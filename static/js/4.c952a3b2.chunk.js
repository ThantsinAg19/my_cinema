(this.webpackJsonpmy_movies=this.webpackJsonpmy_movies||[]).push([[4],{208:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n,r=a(378),c=a(379),i=a(0),o=a.n(i),s=a(29),l=(a(208),a(372)),j=a(368),d=a(369),b=a(371),u=a(373),m=a(374),O=a(375),p=a(31),x=a(33),v=a(2),h=a(386),f=a(8),g=function(e){var t=e.current_page,a=void 0===t?1:t,n=e.total_pages,r=void 0===n?1:n,c=e.dispatch,i=Object(s.d)((function(e){var t;return null===e||void 0===e||null===(t=e.movie)||void 0===t?void 0:t.filter_option}));return Object(f.jsx)("div",{style:{marginTop:10},children:Object(f.jsx)(h.a,{color:"secondary",page:a,count:r,size:"large",shape:"rounded",onChange:function(e,t){Number(t)!==Number(a)&&c(p.a.action_discover_movies(Object(v.a)(Object(v.a)({},i),{},{page:t})))},style:{alignSelf:"flex-end",float:"right",width:"auto",border:"1px solid #e9e9ef",padding:5}})})},_=a(385),y=a(370),N=function(e){var t=e.classes,a=void 0===t?{}:t;return Object(f.jsx)(j.a,{className:a.card_container,children:Array.from(Array(20).keys()).map((function(e){return Object(f.jsxs)(d.a,{className:a.card_style,children:[Object(f.jsx)(_.a,{children:Object(f.jsx)(y.a,{height:270,variant:"rect"})}),Object(f.jsxs)(b.a,{className:a.card_content,children:[Object(f.jsx)("b",{children:Object(f.jsx)(y.a,{variant:"rect"})}),Object(f.jsx)("br",{}),Object(f.jsx)(y.a,{height:20,width:"40%"})]})]},e)}))})},w=Object(l.a)({root:{display:"flex",flexDirection:"column"},card_container:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",border:"1px solid #e9e9ef",borderRadius:5,paddingTop:20,paddingBottom:20},card_style:{border:"1px solid #e9e9ef",width:250,maxWidth:250,margin:10},card_content:{textOverflow:"ellipsis",borderTop:"1px solid #e9e9ef",textAlign:"left"},media_cotainer:{position:"relative"},card_media:{height:270},voting_box:{fontSize:12,padding:5,right:0,position:"absolute"}}),k=function(e){var t=e.isLoading,a=void 0===t||t,n=(e.errorMessage,e.page),r=void 0===n?1:n,c=e.results,o=void 0===c?[]:c,l=e.total_pages,u=void 0===l?0:l,m=w(),O=Object(s.c)();return Object(i.useEffect)((function(){O(p.a.action_discover_movies({page:1}))}),[O]),a?Object(f.jsx)(N,{classes:m}):Object(f.jsxs)("div",{className:m.root,children:[Object(f.jsx)(j.a,{className:m.card_container,children:o.map((function(e,t){return Object(f.jsxs)(d.a,{className:m.card_style,children:[Object(f.jsxs)("div",{className:m.media_cotainer,children:[Object(f.jsx)(F,{vote_avg:Number(null===e||void 0===e?void 0:e.vote_average),className:m.voting_box}),Object(f.jsx)("img",{src:"".concat(x.a,"/t/p/w220_and_h330_face").concat(null===e||void 0===e?void 0:e.poster_path),className:m.card_media,alt:"".concat(null===e||void 0===e?void 0:e.original_title)})]}),Object(f.jsxs)(b.a,{className:m.card_content,children:[Object(f.jsx)("b",{children:null===e||void 0===e?void 0:e.title}),Object(f.jsx)("br",{}),Object(f.jsx)("span",{style:{fontSize:13},children:null===e||void 0===e?void 0:e.release_date})]})]},t+(null===e||void 0===e?void 0:e.title))}))}),Object(f.jsx)(g,{current_page:r,total_pages:u,dispatch:O})]})},S="primary",F=function(e){var t=e.vote_avg,a=void 0===t?0:t,n=e.className,r=void 0===n?"":n,c=Object(f.jsx)(u.a,{fontSize:"small",color:S,style:{fontSize:16}});return a>=1&&a<=4?c=Object(f.jsx)(m.a,{fontSize:"small",olor:S,style:{fontSize:16}}):a>7&&(c=Object(f.jsx)(O.a,{fontSize:"small",color:S,style:{fontSize:16}})),Object(f.jsxs)(j.a,{className:r,children:[Object(f.jsx)("span",{children:a}),"  ",c]})},E=a(4),C=a.n(E),D=a(9),z=a(340),M=a(106),L=a(377),T=a(376),A=a(109),B=function(e){var t=e.label,a=e.name,n=e.children;return Object(f.jsxs)("div",{style:{marginTop:15,marginRight:5},children:[t&&Object(f.jsx)("label",{htmlFor:a,style:{display:"block",marginBottom:3},children:t}),n]})},V=function(e){var t=e.name,a=e.label,n=e.type,r=void 0===n?"text":n,c=Object(M.c)(e),i=Object(A.a)(c,2)[1],o=i.error&&i.touched;return Object(f.jsxs)(B,{name:t,label:a,children:[Object(f.jsx)(M.a,Object(v.a)(Object(v.a)({name:t,type:r,className:"inputField ".concat(o&&"inputError")},e),{},{onWheel:function(e){return e.currentTarget.blur()}})),Object(f.jsx)("span",{className:"messageError",children:o?i.error:""})]})},R=a(120),W=a(381),J=a(339),P=function(e){var t=e.name,a=e.label,n=e.minDate,r=e.format,c=void 0===r?"dd / MM / yyyy":r,s=o.a.useState(new Date),l=Object(A.a)(s,2),j=l[0],d=l[1],b=Object(M.c)(e),u=Object(A.a)(b,2)[1];return Object(i.useEffect)((function(){u.value||d(new Date)}),[u.value]),Object(f.jsx)(B,{name:t,label:a,children:Object(f.jsx)(M.a,Object(v.a)(Object(v.a)({name:t},e),{},{children:function(e){e.field;var a=e.form.setFieldValue,r=e.meta,i=r.error&&r.touched;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R.a,{utils:J.a,children:Object(f.jsx)(W.a,{value:j,variant:"inline",format:c,margin:"dense",id:"date-picker-inline-".concat(t),className:"date-input inputField ".concat(i&&"inputError"),onChange:function(e){d(e),a(t,new Date(e))},KeyboardButtonProps:{"aria-label":"change date"},minDate:n,contentEditable:!1,autoOk:!0})}),Object(f.jsx)("span",{className:"messageError",children:i?r.error:""})]})}}))})},G=function(e){var t=e.name,a=e.label,n=e.options,r=void 0===n?[]:n,c=e.showloading,i=void 0!==c&&c,o=Object(M.c)(e),s=Object(A.a)(o,2)[1],l=s.error&&s.touched;return Object(f.jsxs)(B,{name:t,label:a,children:[Object(f.jsxs)(M.a,Object(v.a)(Object(v.a)({as:"select",name:t,className:"inputField ".concat(l?"inputError":"")},e),{},{children:[Object(f.jsx)("option",{value:"",children:i?"Loading...":a},""),r.map((function(e,t){var a=e.name,n=e.label,r=e.key,c=e.value,i=e._id;return Object(f.jsx)("option",{value:c||i,children:a||n||r},t)}))]})),Object(f.jsx)("span",{className:"messageError",children:l?s.error:""})]})},I=function(e){var t=e.name,a=e.label,n=e.type,r=void 0===n?"text":n,c=e.rows,i=void 0===c?"3":c,o=Object(M.c)(e),s=Object(A.a)(o,2)[1],l=s.error&&s.touched;return Object(f.jsxs)(B,{name:t,label:a,children:[Object(f.jsx)(M.a,Object(v.a)({as:"textarea",name:t,type:r,rows:i,className:"inputField ".concat(l&&"inputError")},e)),Object(f.jsx)("span",{className:"messageError",children:l?s.error:""})]})},K=function(e){var t=e.name,a=e.options,n=void 0===a?[]:a,r=e.label,c=e.singleLine,i=void 0!==c&&c;return Object(f.jsx)(B,{name:t,label:r,children:Object(f.jsx)(M.a,{name:t,children:function(e){var t=e.field;return n.map((function(e,a){return Object(f.jsxs)(o.a.Fragment,{children:[Object(f.jsx)("input",Object(v.a)(Object(v.a)({type:"radio"},t),{},{value:e.value,checked:t.value===e.value})),e.key||e.label||e.name,"\xa0\xa0\xa0\xa0",i&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})]},a)}))}})})},q=a(320),H=a(321).a.label(n||(n=Object(q.a)(['\n    margin-right: 1.5 rem;\n    position: relative;\n    cursor:pointer;\n    user-select: none;\n    input[type="checkbox"] {\n        margin-right: 0.3rem;\n    }\n']))),Q=function(e){var t=e.name,a=e.options,n=void 0===a?[]:a,r=e.label;return Object(f.jsx)(B,{name:t,label:r,children:Object(f.jsx)(M.a,{name:t,children:function(e){var t=e.field;return n.map((function(e,a){return Object(f.jsxs)(H,{children:[Object(f.jsx)("input",Object(v.a)(Object(v.a)({type:"checkbox"},t),{},{value:e.value,checked:t.value===e.value})),e.key||e.label||e.name]},a)}))}})})},U=a(382),X=a(325),Y=a.n(X)()().format("yyyy-MM-DDThh:mm"),Z=function(e){var t=e.name,a=e.label;return Object(f.jsx)(B,{name:t,label:a,children:Object(f.jsx)(M.a,Object(v.a)(Object(v.a)({name:t},e),{},{children:function(e){e.field;var a=e.form.setFieldValue,n=e.meta,r=n.error&&n.touched;return Object(f.jsxs)(o.a.Fragment,{children:[Object(f.jsx)(U.a,{id:"date-time-local-".concat(t),className:"inputField ".concat(r&&"inputError"),type:"datetime-local",defaultValue:Y,InputLabelProps:{shrink:!0},onChange:function(e,n){return a(t,n)}}),Object(f.jsx)("span",{className:"messageError",children:r?n.error:""})]})}}))})},$=a(341),ee=function(e){var t=e.name,a=e.label,n=e.options,r=void 0===n?[]:n,c=Object(M.c)(e),i=Object(A.a)(c,2)[1],s=i.error&&i.touched;return Object(f.jsxs)(B,{name:t,label:a,children:[Object(f.jsx)(M.a,Object(v.a)(Object(v.a)({name:t},e),{},{children:function(e){e.field;var a=e.form.setFieldValue,n=e.meta,c=n.error&&n.touched;return Object(f.jsxs)(o.a.Fragment,{children:[Object(f.jsx)($.a,{options:r,getOptionValue:function(e){return(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.value)},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.name)},isMulti:!0,closeMenuOnSelect:!1,onChange:function(e){var n=e.map((function(e){return e.id}));a(t,n)}}),Object(f.jsx)("span",{className:"messageError",children:c?n.error:""})]})}})),Object(f.jsx)("span",{className:"messageError",children:s?i.error:""})]})},te={radio:"radio",checkbox:"checkbox",select:"select",date:"date",textarea:"textarea",autocomplete:"autocomplete",datetime_local:"datetime_local",multi_select:"multi_select"},ae=[];for(var ne in te)ae.push(te[ne]);var re=function(e){switch(e.control){case te.radio:return Object(f.jsx)(K,Object(v.a)({},e));case te.checkbox:return Object(f.jsx)(Q,Object(v.a)({},e));case te.select:return Object(f.jsx)(G,Object(v.a)({},e));case te.date:return Object(f.jsx)(P,Object(v.a)({},e));case te.textarea:return Object(f.jsx)(I,Object(v.a)({},e));case te.datetime_local:return Object(f.jsx)(Z,Object(v.a)({},e));case te.multi_select:return Object(f.jsx)(ee,Object(v.a)({},e));default:return Object(f.jsx)(V,Object(v.a)({},e))}},ce=Object(l.a)({root:{marginLeft:10,textAlign:"left",padding:10,border:"1px solid #e9e9ef"},sort_flex:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:20},button_div:{display:"flex",justifyContent:"flex-end",flexDirection:"row"},button:{alignSelf:"flex-end",marginRight:5,marginTop:20}}),ie=[{value:"asc",label:"Asc"},{value:"desc",label:"Desc"}],oe="with_genres",se="sort_by",le="sort_order",je={with_genres:[],sort_by:"popularity",sort_order:"desc"},de=z.b({with_genres:z.a(),sort_by:z.c(),sort_order:z.c()}),be=function(e){var t=e.genreOption,a=void 0===t?[]:t,n=e.sortOption,r=void 0===n?[]:n,c=ce(),o=Object(s.c)();Object(i.useEffect)((function(){o(p.b.action_fetch_genre_option())}),[o]);var l=function(){var e=Object(D.a)(C.a.mark((function e(t){var a,n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.with_genres,n=t.sort_by,r=t.sort_order,(c={page:1,with_genres:a}).sort_by=n?"".concat(n,".").concat(r||"desc"):"popularity.desc",o(p.a.action_discover_movies(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(j.a,{className:c.root,children:[Object(f.jsx)("h3",{children:"Search your fav!"}),Object(f.jsx)(ue,{}),Object(f.jsx)(M.b,{initialValues:je,validationSchema:de,onSubmit:l,children:function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(re,{name:oe,label:"Genres",control:te.multi_select,options:a}),Object(f.jsxs)("div",{className:c.sort_flex,children:[Object(f.jsx)(re,{name:se,label:"Sort by",control:te.select,options:r}),Object(f.jsx)(re,{name:le,label:"Order by",control:te.select,options:ie})]}),Object(f.jsx)(ue,{}),Object(f.jsxs)("div",{className:c.button_div,children:[Object(f.jsx)(T.a,{color:"secondary",variant:"contained",className:c.button,onClick:e.resetForm,children:"Clear"}),Object(f.jsxs)(T.a,{color:"primary",variant:"contained",className:c.button,onClick:e.submitForm,children:[Object(f.jsx)(L.a,{fontSize:"small"}),"Search"]})]})]})}})]})},ue=function(){return Object(f.jsx)("div",{style:{borderTop:"2px solid #e9e9ef"}})},me=Object(s.b)((function(e){return{isLoading:e.movie.isLoading,errorMessage:e.movie.errorMessage,page:e.movie.page,results:e.movie.results,total_pages:e.movie.total_pages,total_results:e.movie.total_results,genreOption:e.option.option_genre,sortOption:e.option.option_sortBy}}),null)(k),Oe=Object(s.b)((function(e){return{genreOption:e.option.option_genre,sortOption:e.option.option_sortBy}}),null)(be);t.default=function(){var e=Object(s.c)();return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(r.a,{position:"sticky",style:{backgroundColor:"primary"},children:Object(f.jsx)("h2",{children:"My Cinema"})}),Object(f.jsxs)("main",{children:[Object(f.jsx)(g,{current_page:1,total_pages:500,dispatch:e}),Object(f.jsxs)(c.a,{container:!0,spacing:1,justifyContent:"space-between",children:[" ",Object(f.jsx)(c.a,{item:!0,xs:12,sm:12,md:2,lg:2,xl:2,children:Object(f.jsx)(Oe,{})}),Object(f.jsx)(c.a,{item:!0,xs:12,sm:12,md:10,lg:10,xl:10,children:Object(f.jsx)(me,{})})]})]})]})}}}]);
//# sourceMappingURL=4.c952a3b2.chunk.js.map